<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>welcome</title>
  </head>
  <body>
    <script>
      function getParameterByName(name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),results = regex.exec(location.search);
       
        return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
      }
      
      window.onload = function(){
        const url = window.location.href;
        let query = window.location.search;
        let code = getParameterByName("code");
        
        if(query == null || query == "" || query == undefined) query = "none";
        if(code == null || code == "" || code == undefined) code = "none";
        
        document.querySelector("#url").append(url);
        document.querySelector("#query").append(query);
        document.querySelector("#code").append(code);
        
        //code 클립보드 복사
        var copyTarget = document.querySelector("#copyThis");
        copyTarget.value = code;
        copyTarget.select();
        document.execCommand("copy");
        document.body.removeChild(copyTarget);
        document.querySelector("#show").style = "color:blue";
      }
    </script>
    
    <p id="url">url: </p>
    <p id="query">query: </p>
    <p id="code">code: </p>
    <input id="copyThis" type="hidden" value="">
    <p id="show" sytle="display:none;">Copied!!</p>
  </body>
</html>
